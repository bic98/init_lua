# 입력 지연 제거
set -sg escape-time 0
set -g focus-events on

# UTF-8 한글 지원
set -g default-terminal "tmux-256color"
set -ga terminal-overrides ",*256col*:Tc"
set -as terminal-overrides ',*:Smulx=\E[4::%p1%dm'

setw -g mode-keys vi
set -g mouse on

# WSL 클립보드 설정 (win32yank으로 한글 지원)
set -g set-clipboard on
set -g @yank_selection 'clipboard'
set -g @yank_selection_mouse 'clipboard'
bind-key -T copy-mode-vi y send-keys -X copy-pipe-and-cancel "win32yank.exe -i --crlf"
bind-key -T copy-mode-vi Enter send-keys -X copy-pipe-and-cancel "win32yank.exe -i --crlf"
bind-key -T copy-mode-vi MouseDragEnd1Pane send-keys -X copy-pipe-and-cancel "win32yank.exe -i --crlf"

# 붙여넣기 (Ctrl+v 스타일)
bind-key ] run "win32yank.exe -o --lf | tmux load-buffer - && tmux paste-buffer"

# Kanagawa Theme
set -g @plugin 'Nybkox/tmux-kanagawa'
set -g @kanagawa-theme 'wave'
set -g @kanagawa-plugins "cpu-usage ram-usage time"
set -g @kanagawa-time-format "%H:%M"
set -g @kanagawa-day-month true

# 세션 저장/복원
set -g @plugin 'tmux-plugins/tmux-resurrect'
set -g @plugin 'tmux-plugins/tmux-continuum'
set -g @continuum-restore 'on'

# 복사 개선 (win32yank으로 한글 지원)
set -g @plugin 'tmux-plugins/tmux-yank'
set -g @override_copy_command 'win32yank.exe -i --crlf'
set -g @yank_with_mouse on

# vim 스타일 패널 이동
set -g @plugin 'christoomey/vim-tmux-navigator'

# 패널 크기 조절
set -g @plugin 'tmux-plugins/tmux-pain-control'

# 세션 관리 (fzf)
set -g @plugin 'sainnhe/tmux-fzf'

# TPM (Tmux Plugin Manager)
set -g @plugin 'tmux-plugins/tpm'
run '~/.tmux/plugins/tpm/tpm'
